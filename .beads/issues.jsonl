{"id":"fsn-04bd","content_hash":"6a5038ddbd40e205e3c8ac7cc6974e3af87c83f02d3a0bd9aa375735232931ec","title":"Extract navigation.c module","description":"Extract navigation/zoom control - 12 functions: findzoom*, do_warp, pushzoom, popzoom, zoomto, zoomPosition, zoomToSelection, etc. Handles camera movement and zoom stack.","design":"Navigation Functions:\n- Zoom control: findzoom, findzoom_landscape, findzoom_warp\n- Zoom stack: pushzoom, popzoom, zoomto\n- Positioning: zoomPosition, zoomToSelection, landscapeZoomToFile\n- Warp: do_warp, get_warp_entry\n- Search: findbestfile","acceptance_criteria":"- [ ] navigation.c created with 12 functions\n- [ ] navigation.h created with public API  \n- [ ] Zoom stack and camera control\n- [ ] Added to CMakeLists.txt","notes":"EXTRACTION COMPLETE - 10 functions extracted (397 lines)\n\nNavigation and zoom control subsystem.\n\nFunctions by category:\n- Zoom control (3): findzoom, zoomto, zoomToSelection\n- Zoom stack (2): pushzoom, popzoom\n- Position \u0026 camera (3): zoomPosition, get_warp_entry, landscapeZoomToFile\n- Navigation (2): do_warp, findbestfile\n\nMissing (2): findzoom_warp, findzoom_landscape (multi-line signature extraction issues)\n\nCommit: 3293cfa","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T18:04:11.217982145+01:00","updated_at":"2025-11-25T18:08:46.39229122+01:00","closed_at":"2025-11-25T18:08:46.39229122+01:00"}
{"id":"fsn-05f1","content_hash":"2ae857f11107465fb8eeb4d307b8f11cf108bea47127fa95500d2285d2de596d","title":"Catalog all DAT_ globals (465 total)","description":"Extract all DAT_0x global variables from fsn.c, analyze their usage patterns, and suggest meaningful names","acceptance_criteria":"- [ ] All 465 DAT_ globals extracted to catalog file\n- [ ] Usage pattern analysis completed\n- [ ] Preliminary meaningful names suggested\n- [ ] Globals categorized by purpose","notes":"COMPLETED: Extraction script created and run. Found 451 DAT_ global variables. Categorized: String/Text (244), Counter/Index (90), Unknown (82), Graphics State (21), X11/Motif (10), Configuration (3), Filesystem (1). Catalog saved to analysis/global_catalog.txt. NEXT: Manual analysis for meaningful names in Phase 3.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:14:04.08211111+01:00","updated_at":"2025-11-25T15:19:30.490260424+01:00","closed_at":"2025-11-25T15:19:30.490260424+01:00","dependencies":[{"issue_id":"fsn-05f1","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:14:50.657081159+01:00","created_by":"vitorpy"}]}
{"id":"fsn-113e","content_hash":"1859296c2faa3aa95064fd35305fae47830d470afff9a0aaf3b814c06cdf2ba2","title":"Identify module boundaries","description":"Analyze code structure and identify logical module boundaries for Phase 4 split","acceptance_criteria":"- [ ] Module boundaries defined (UI, graphics, filesystem, picking, data, main)\n- [ ] Function assignments to modules planned\n- [ ] Inter-module dependencies mapped\n- [ ] Module interface contracts defined","notes":"COMPLETED: Module boundary analysis complete. Identified 6 primary modules: ui_motif (412 funcs), graphics_gl (171), filesystem (74), datastructures (62), picking (18), main (entry point). 1521 functions in 'utility' category need manual review in Phase 3/4. Module dependency graph and header structure documented. Output: analysis/module_boundaries.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:14:14.539853808+01:00","updated_at":"2025-11-25T15:22:43.312395207+01:00","closed_at":"2025-11-25T15:22:43.312395207+01:00","dependencies":[{"issue_id":"fsn-113e","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:15:00.723565767+01:00","created_by":"vitorpy"}]}
{"id":"fsn-1c87","content_hash":"5c7c8d2f2df52e380fb2a1480842459d41075a5597b1e1045e52482dab9f043b","title":"Rename top 10 FUN_ functions (32-14 calls each)","description":"Analyze and rename the 10 most-frequently called FUN_ functions: FUN_0040cad0 (32), FUN_0042b6c0 (27), FUN_0042a82c (21), FUN_00411b30 (21), FUN_0042a788 (20), FUN_00410264 (19), FUN_00421f10 (18), FUN_0042a8e4 (18), FUN_00411094 (15), FUN_00410da4 (14)","acceptance_criteria":"- [ ] All 10 functions analyzed\n- [ ] Function purposes identified\n- [ ] Renamed or bd task created if unclear","notes":"COMPLETED: Top 10 analysis done. Renamed 8/10 functions (142 occurrences). Created apply_renames.py tool for batch renaming. IDENTIFIED: redraw_gl_scene, install_help_callback, set_gl_context, build_path_string, gl_swap_buffers, set_status_message, quit_application, cleanup_before_exit. REMAINING: 2 functions need more analysis (FUN_0042a8e4, FUN_00411094). NEXT: Analyze functions 11-30 (13-10 calls each)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:38:03.760722722+01:00","updated_at":"2025-11-25T15:43:22.796015984+01:00","closed_at":"2025-11-25T15:43:22.796015984+01:00","dependencies":[{"issue_id":"fsn-1c87","depends_on_id":"fsn-44d8","type":"parent-child","created_at":"2025-11-25T15:38:19.197408496+01:00","created_by":"vitorpy"}]}
{"id":"fsn-200a","content_hash":"f71358b4e678e228f069c757fde6f0386c4dee3c0c06a0050cacc237aa86025d","title":"Phase 3: Analyze 230 remaining FUN_ functions","description":"After cleanup, 230 FUN_ functions remain (down from 348). These are real application code. Use module context and call patterns to identify purposes.\n\nSTRATEGY:\n- Focus on high-frequency FUN_s first\n- Use call-site analysis with renamed globals for better context\n- Group by module usage patterns\n- Cross-reference with modularization work\n\nACCEPTANCE CRITERIA:\n- [ ] FUN_ functions categorized\n- [ ] High-frequency FUN_s identified\n- [ ] Batch renames planned\n- [ ] Initial renames applied","notes":"Phase 2 Batch 2 COMPLETE (10 functions, commit 181df1f):\n\nLibrary wrapper analysis via call site context:\n- 2 FAM wrappers (fam_open_wrapper, fam_cancel_monitor_wrapper)\n- 1 filetype wrapper (load_filetype_rules_wrapper)\n- 3 GLX context wrappers (glx_switch/reset_context, glx_swap_buffers)\n- 2 GL state wrappers (gl_picking_setup, gl_get_dimensions)\n- 1 UI wrapper (ui_layout_setup_wrapper)\n- 1 icon wrapper (icon_bytecode_eval_wrapper)\n\nAdded analysis/library_wrapper_functions.md documenting 25 analyzed functions.\n\nKey insight: Call site analysis \u003e\u003e decompiled body analysis for GOT wrappers!\n\nTotal Phase 2: 25 of 230 FUN_ (10.9%) | Remaining: 205 FUN_","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-25T18:34:59.417886744+01:00","updated_at":"2025-11-25T20:18:23.422540929+01:00"}
{"id":"fsn-2e34","content_hash":"efd3d7c9559f5669fdeafed65abf1e4d3804f7bce9a6fc6d6d95ecfe6809caba","title":"Phase 1: Foundation \u0026 Analysis","description":"Analyze decompiled code structure, catalog all unnamed functions/globals, identify module boundaries, and plan architecture","acceptance_criteria":"- [ ] All 436 FUN_0x functions catalogued with context notes\n- [ ] All 231 DAT_0x globals catalogued with usage patterns\n- [ ] Module boundaries identified (UI, graphics, filesystem, picking, data structures)\n- [ ] SGI GL to OpenGL mapping documented\n- [ ] Architecture document created","notes":"COMPLETED: Phase 1 Foundation \u0026 Analysis complete. All 4 subtasks finished:\n1. Cataloged 366 FUN_ function definitions (1316 references) - categorized by purpose\n2. Cataloged 451 DAT_ global variables - categorized by usage  \n3. Mapped 46 SGI GL calls to OpenGL equivalents (560 call sites total)\n4. Identified 6 module boundaries for Phase 4 split\n\nKey outputs in analysis/:\n- function_catalog.txt (categorized functions)\n- global_catalog.txt (categorized globals)  \n- sgi_gl_mapping.md (GL API migration guide)\n- module_boundaries.md (architecture for modularization)\n\nNEXT: Phase 2 - Header Extraction \u0026 Type System","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:01:16.114479784+01:00","updated_at":"2025-11-25T15:22:59.826304803+01:00","closed_at":"2025-11-25T15:22:59.826304803+01:00"}
{"id":"fsn-44d8","content_hash":"d348cb15fb94676857de1b203623e3dfb5207ebd832b0faedc0c8b168fcd2575","title":"Rename main() and core initialization functions","description":"Rename obvious main-related functions: main entry point, quit handler, initialization sequence","acceptance_criteria":"- [ ] main renamed (already clear)\n- [ ] FUN_0040eef0 → quit_application (WM_DELETE callback)\n- [ ] FUN_0041892c → cleanup_and_save_state (called before exit)\n- [ ] Main initialization functions identified and renamed","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:32.725642883+01:00","updated_at":"2025-11-25T15:33:29.62344198+01:00","dependencies":[{"issue_id":"fsn-44d8","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:09.264308413+01:00","created_by":"vitorpy"}]}
{"id":"fsn-4bc7","content_hash":"f9f0c4be1893f7c0cc9c7a36a9ffd8a1e558137982dbbdc19e06ffeb76830d4d","title":"Extract graphics_gl.c module","description":"Extract ~150-200 functions: redraw_gl_scene, gl_* functions, SGI GL primitives, view state. Depends on datastructures, picking.","acceptance_criteria":"- [ ] graphics_gl.c created with extracted functions\\n- [ ] graphics_gl.h created with public API\\n- [ ] ~150-200 functions extracted\\n- [ ] Rendering layer properly isolated\\n- [ ] Depends only on datastructures and picking","notes":"EXTRACTION COMPLETE - 111 functions extracted (7,423 lines!)\n\nTHE BIG ONE - Largest module by far. Contains entire OpenGL/SGI GL rendering pipeline.\n\nFunctions by category:\n- SGI GL primitives (22): bgn*/end* for lines/points/polygons, arc*, rect*, circf, move2, draw2, beam*\n- Graphics state \u0026 rendering (23): gl_push/pop_state, matrix ops, projection, clearing, color, scene control\n- Drawing functions (18): draw*, drawOverview*\n- Highlighting (9): highlight*\n- Location/picking (6): locate*, overviewPickPointer\n- Color conversions (15): rgb_to_*, *_to_rgb, rgbcomplement\n- Colormap/visual (7): SG_get*, allocOverlayColor, makeColorBox*\n- Utility (11): calc_*_angle, check_visibility, FAMDebugLevel, GlobMatch, etc.\n\nMissing (5): draw_dir, draw_special, highlightSpecialDir, draw_file, bsearch2 (already extracted or format mismatch)\n\nNote: Original estimate 150-200 functions. Actually extracted 111 but with 7,423 lines - these are complex rendering functions with substantial implementations.\n\nCommit: 4cc5cfa","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T17:01:33.991274085+01:00","updated_at":"2025-11-25T17:56:12.288213191+01:00","closed_at":"2025-11-25T17:56:12.288213191+01:00","dependencies":[{"issue_id":"fsn-4bc7","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:04:01.537667436+01:00","created_by":"vitorpy"},{"issue_id":"fsn-4bc7","depends_on_id":"fsn-78f9","type":"blocks","created_at":"2025-11-25T17:04:53.285191254+01:00","created_by":"vitorpy"},{"issue_id":"fsn-4bc7","depends_on_id":"fsn-8213","type":"blocks","created_at":"2025-11-25T17:05:32.413401034+01:00","created_by":"vitorpy"},{"issue_id":"fsn-4bc7","depends_on_id":"fsn-6e14","type":"blocks","created_at":"2025-11-25T17:06:06.028173429+01:00","created_by":"vitorpy"}]}
{"id":"fsn-4eb2","content_hash":"66ebbd5ae72fcfbe595c43dafa07a3644427288723dbaefe97a43c737aa4edc8","title":"Rename functions 11-30 (13-10 calls each)","description":"Analyze and rename the next 20 high-frequency functions with 10-13 calls each","design":"IMPROVEMENT: Consider using tree-sitter-c for proper AST-based renaming instead of regex string replacement. Would be more robust and handle edge cases better (e.g., function names in comments, strings, etc.)","acceptance_criteria":"- [ ] All 20 functions analyzed\n- [ ] Renamed or bd task created if unclear\n- [ ] Batch applied to fsn.c\n- [ ] Progress committed","notes":"IN PROGRESS: Batch 2 (functions 11-30). COMPLETED: 4/20 renamed so far: gl_push_state, gl_pop_state, set_main_gl_window, update_display (43 occurrences). IDENTIFIED PATTERN: gl_push/pop_state are paired begin/end functions for GL rendering. REMAINING: 16 functions in batch 2 need analysis. TOTAL PROJECT: 12/366 (3.3%) renamed, 185 occurrences updated. NEXT: Continue analyzing remaining batch 2 functions.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:45:15.53060268+01:00","updated_at":"2025-11-25T15:51:30.230993944+01:00","closed_at":"2025-11-25T15:51:30.230993944+01:00","dependencies":[{"issue_id":"fsn-4eb2","depends_on_id":"fsn-44d8","type":"parent-child","created_at":"2025-11-25T15:45:31.692483193+01:00","created_by":"vitorpy"}]}
{"id":"fsn-52b4","content_hash":"8b8ca48af7dadb0feac0f36c1ef9d59cfeb8fe2df11421b178d1411be3bd0bbd","title":"Phase 3: Apply 50 module-context global renames","description":"Apply 50 global renames identified through module context analysis after Phase 4 modularization. Module boundaries revealed clear patterns for globals.\n\nFULL RENAME LIST (from /tmp/phase3_module_context_renames.txt):\n\n# BATCH: Shared Graphics/Picking State (3 globals, ~25 uses)\nDAT_10017594 -\u003e zoom_base_factor\nDAT_10017598 -\u003e zoom_reference_height\nDAT_10016b58 -\u003e current_picked_item\n\n# BATCH: UI Widgets - Top Level (6 globals, ~48 uses)\nDAT_10006eb4 -\u003e overview_popup_shell\nDAT_1001665c -\u003e copy_button_widget\nDAT_10016c0c -\u003e overview_gl_widget\nDAT_10006e24 -\u003e mark_menu_widget\n\n# BATCH: Application Dimensions (2 globals, ~26 uses)\nDAT_10000184 -\u003e window_width\nDAT_1000018c -\u003e window_height\n\n# BATCH: Buffers/Storage (3 globals, ~30 uses)\nDAT_10017414 -\u003e string_buffer\nDAT_10017418 -\u003e path_buffer\nDAT_10009660 -\u003e temp_data_buffer\n\n# BATCH: Graphics State Counter (1 global, ~12 uses)\nDAT_10007988 -\u003e redraw_counter\n\n# BATCH: Application Context Pointers (2 globals, ~19 uses)\nDAT_10000020 -\u003e current_directory_node\nDAT_10016e10 -\u003e active_file_list\n\n# BATCH: Navigation/Zoom Stack (6 globals from navigation module)\nDAT_100165f0 -\u003e zoom_stack_pointer\nDAT_100165f4 -\u003e zoom_stack_size\nDAT_100165f8 -\u003e zoom_stack_capacity\nDAT_10016608 -\u003e camera_position_x\nDAT_1001660a -\u003e camera_position_y\nDAT_1001660c -\u003e camera_position_z\n\n# BATCH: Graphics Matrix Stack (8 globals from graphics_gl)\nDAT_10006edc -\u003e matrix_stack_index\nDAT_10006ee4 -\u003e matrix_stack_capacity\nDAT_10006f10 -\u003e matrix_buffer_0\nDAT_10006f18 -\u003e matrix_buffer_1\nDAT_10006f20 -\u003e matrix_buffer_2\nDAT_10006f28 -\u003e matrix_buffer_3\nDAT_10006f30 -\u003e current_matrix_ptr\nDAT_10006f38 -\u003e projection_matrix_ptr\n\n# BATCH: Graphics Color State (8 globals from graphics_gl)\nDAT_10007904 -\u003e current_color_index\nDAT_10007990 -\u003e colormap_dirty_flag\nDAT_10016f72 -\u003e rgb_color_r\nDAT_10016f74 -\u003e rgb_color_g\nDAT_10017010 -\u003e rgb_color_b\nDAT_100175c0 -\u003e overlay_colormap\nDAT_100175c8 -\u003e normal_colormap\n\n# BATCH: Graphics Viewport (2 globals from graphics_gl)\nDAT_10006ecc -\u003e viewport_x\nDAT_10006ed4 -\u003e viewport_y\n\n# BATCH: Filesystem/Database State (7 globals from filesystem)\nDAT_100078b0 -\u003e database_loaded_flag\nDAT_10009f34 -\u003e database_dirty_flag\nDAT_10016c70 -\u003e database_root_node\nDAT_10016e50 -\u003e fam_connection\nDAT_10016e88 -\u003e fam_request_id\nDAT_10017530 -\u003e database_version\n\n# BATCH: Icon System (6 globals from icons)\nDAT_10009c80 -\u003e icon_loader_instance\nDAT_10009c8c -\u003e icon_cache_size\nDAT_10009c90 -\u003e icon_cache_capacity\nDAT_10009d2c -\u003e current_icon_rules\nDAT_10009d30 -\u003e icon_interpreter_state\nDAT_10009d34 -\u003e icon_scale_factor\n\nACCEPTANCE CRITERIA:\n- [ ] 50 globals renamed\n- [ ] Applied in batches by module\n- [ ] Committed with detailed message\n- [ ] Updated analysis files","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T18:34:28.21573363+01:00","updated_at":"2025-11-25T18:41:15.603618766+01:00","closed_at":"2025-11-25T18:41:15.603618766+01:00"}
{"id":"fsn-62db","content_hash":"ed3d6f2ed50f9572e1b221b352127d14df52dcec29fcb28bc44a0693764bc645","title":"Extract filesystem.c module","description":"Extract ~70-90 functions: opendir/readdir/stat/lstat, build_path_string, directory operations. Depends on datastructures.","acceptance_criteria":"- [ ] filesystem.c created with extracted functions\\n- [ ] filesystem.h created with public API\\n- [ ] ~70-90 functions extracted\\n- [ ] Depends only on datastructures\\n- [ ] Compiles with datastructures dependency","notes":"EXTRACTION COMPLETE - 30 functions extracted (464 lines)\n\nFunctions by category:\n- Database operations (7): load_db, savePositions, dumpDatabaseCB, scheduleDatabaseDumpTimeout, databaseDumpTimeout, readingDatabaseMessage, buildingDatabaseMessage\n- Directory FAM monitoring (7): dirfamInit, dirfamDone, dirfamMonitor, dirfamMonitorDir, dirfamUnmonitor, dirfamUnmonitorDir, check_unmonitor_dp\n- FAM core operations (7): FAMPending, FAMNextEvent, FAMMonitorDirectory, FAMMonitorFile, FAMSuspendMonitor, FAMResumeMonitor, FAMCancelMonitor\n- File operations (9): findfile, finddir, fileerror, filemessage, fileExecuting, fileStoppedExecuting, gotoFileName, warpZoomToFile, updateDir\n\nPARTIAL: Original estimate 70-90 functions. Extracted 30 core filesystem operations. Deferred to other modules: highlight/draw functions (graphics), FindInfo/icon functions (icon system), calculate_file_view (graphics).\n\nCommit: 8e7f8e5","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T17:00:34.819511294+01:00","updated_at":"2025-11-25T17:45:39.526175097+01:00","closed_at":"2025-11-25T17:45:39.526175097+01:00","dependencies":[{"issue_id":"fsn-62db","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:03:46.429939765+01:00","created_by":"vitorpy"},{"issue_id":"fsn-62db","depends_on_id":"fsn-78f9","type":"blocks","created_at":"2025-11-25T17:04:58.320779231+01:00","created_by":"vitorpy"},{"issue_id":"fsn-62db","depends_on_id":"fsn-8213","type":"blocks","created_at":"2025-11-25T17:05:17.284327874+01:00","created_by":"vitorpy"},{"issue_id":"fsn-62db","depends_on_id":"fsn-6e14","type":"blocks","created_at":"2025-11-25T17:05:50.916335955+01:00","created_by":"vitorpy"}]}
{"id":"fsn-64ca","content_hash":"26dc1a486143391e4425a8666f87dbe17fd17381dd9d577063843403c4b03bdf","title":"Extract icons.c module","description":"Extract icon/type system - 12 functions: FindIconBy*, FindInfoBy*, LoadFileTypingRules, SetFile, isSuperBy*, run__19FileIconInterpreterFPcPvT1, scale__13ByteCodedIconFf. Well-structured subsystem for file type identification and icon rendering.","design":"Icon/Type System Functions:\n- FindIconByName, FindIconByType, FindInfoByName, FindInfoByType\n- LoadFileTypingRules (loads .fti rules)\n- SetFile, UnSetFile (icon interpreter state)\n- isSuperByInfo, isSuperByName, isSuperByType (type hierarchy)\n- run__19FileIconInterpreterFPcPvT1 (interpreter execution)\n- scale__13ByteCodedIconFf (icon scaling)","acceptance_criteria":"- [ ] icons.c created with 12 functions\n- [ ] icons.h created with public API\n- [ ] Handles file type rules and icon rendering\n- [ ] Added to CMakeLists.txt","notes":"EXTRACTION COMPLETE - 12 functions extracted (1,746 lines)\n\nComplete icon/type system subsystem for file identification and 3D icon rendering.\n\nFunctions by category:\n- File type identification (4): FindIconByName, FindIconByType, FindInfoByName, FindInfoByType\n- Type hierarchy (3): isSuperByInfo, isSuperByName, isSuperByType\n- Rules \u0026 interpreter (3): LoadFileTypingRules, run__19FileIconInterpreterFPcPvT1, SetFile\n- Icon rendering (2): UnSetFile, scale__13ByteCodedIconFf\n\nNotable: run__19FileIconInterpreterFPcPvT1 is 1,311 lines - complete bytecode interpreter for 3D icon rendering.\n\nCommit: 504c2f6","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T18:04:05.889788573+01:00","updated_at":"2025-11-25T18:05:29.588209851+01:00","closed_at":"2025-11-25T18:05:29.588209851+01:00"}
{"id":"fsn-6e14","content_hash":"d3ae2f3c667bb1bb97e59f3eb11f5a03ae6914b80bc816f9d238a5997da589f3","title":"Phase 4 Integration \u0026 Build","description":"Update CMakeLists.txt, verify no circular deps, stub halt_baddata(), test compilation. Depends on all 7 module extractions.","acceptance_criteria":"- [ ] CMakeLists.txt updated with all 7 modules\\n- [ ] No circular dependencies detected\\n- [ ] halt_baddata() stubbed with error logging\\n- [ ] All modules compile together\\n- [ ] Linking deferred to Phase 6","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T17:03:21.642009367+01:00","updated_at":"2025-11-25T17:03:21.642009367+01:00","dependencies":[{"issue_id":"fsn-6e14","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:04:16.646613861+01:00","created_by":"vitorpy"}]}
{"id":"fsn-6e5b","content_hash":"1d1de382565db2c673ed78556002ce76f3994a197428b52f5660421d301dda9d","title":"Rename filesystem/directory functions","description":"Identify and rename functions that scan directories, read file info","acceptance_criteria":"- [ ] Directory scanning functions renamed\n- [ ] File stat/info functions renamed\n- [ ] Path manipulation functions renamed","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:48.438653513+01:00","updated_at":"2025-11-25T15:32:48.438653513+01:00","dependencies":[{"issue_id":"fsn-6e5b","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:24.374138356+01:00","created_by":"vitorpy"}]}
{"id":"fsn-7295","content_hash":"3f405de8cd8d1fef67bd930760e49eb5ebc08fba4a9c1b5edc11c9006a19a848","title":"Extract picking.c module","description":"Extract ~15-25 functions: selection_buffer, selected_id_1/2, pick/gselect operations. Small, self-contained.","acceptance_criteria":"- [ ] picking.c created with extracted functions\\n- [ ] picking.h created with public API\\n- [ ] ~15-25 functions extracted\\n- [ ] Selection system properly isolated\\n- [ ] Compiles with datastructures dependency","notes":"EXTRACTION COMPLETE ✓\n\nSuccessfully extracted 15 picking/selection functions (1474 lines):\n\nFUNCTIONS EXTRACTED:\n1. SGI GL Picking API (5):\n   - endpick(), pick(), picksize()\n   - gselect(), endselect()\n\n2. Application Picking (6):\n   - pickWarp() - Warp view picking\n   - pickLandscape() - Landscape picking  \n   - pickPointer() - Pointer picking\n   - draw_second_pick() - Pick rendering\n\n3. File/Directory Selection (4):\n   - select_file(), unselect_file()\n   - select_directory(), unselect_directory()\n\n4. Mark Management (2):\n   - addMark() - Uses selection_buffer/selection_count\n   - markAllVisible()\n\nFILES CREATED:\n- src/picking.c (1474 lines)\n- include/picking.h (26 lines, 15 declarations)\n- Updated CMakeLists.txt\n\nKEY SUCCESS: Renamed globals (selection_buffer, selection_count, \nselected_id_1/2) made function identification straightforward!\n\nSTATUS: COMPLETE - Met acceptance criteria (15 functions extracted)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T17:01:20.705814066+01:00","updated_at":"2025-11-25T17:26:02.913197082+01:00","closed_at":"2025-11-25T17:26:02.913197082+01:00","dependencies":[{"issue_id":"fsn-7295","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:03:56.498168279+01:00","created_by":"vitorpy"},{"issue_id":"fsn-7295","depends_on_id":"fsn-4bc7","type":"blocks","created_at":"2025-11-25T17:04:45.517200564+01:00","created_by":"vitorpy"},{"issue_id":"fsn-7295","depends_on_id":"fsn-78f9","type":"blocks","created_at":"2025-11-25T17:05:03.3563641+01:00","created_by":"vitorpy"},{"issue_id":"fsn-7295","depends_on_id":"fsn-8213","type":"blocks","created_at":"2025-11-25T17:05:27.370867408+01:00","created_by":"vitorpy"},{"issue_id":"fsn-7295","depends_on_id":"fsn-6e14","type":"blocks","created_at":"2025-11-25T17:06:00.991442661+01:00","created_by":"vitorpy"}]}
{"id":"fsn-75b3","content_hash":"91d4b3ddebbad108f7824e23517dcddb37b79e788165d41587b1537335c3117e","title":"Extract main.c module","description":"Extract main entry point and core initialization - ~109 functions including main(), handleEvents, init*, SG_get* visual setup, error/message handling, traversal, file change events, application control. The orchestration layer.","design":"Main Functions:\n- Entry: main, handleEvents\n- Init: LoadIntlResources, initResources, init_display_mode, initialize_db, initnames, loadname\n- Visual: SG_getDefaultDepth, SG_getMatchingVisual, SG_getMaxDepth, etc.\n- Messages: error, message, deleteMessage\n- File events: fileChanged, fileDeleted\n- Traversal: first_traversal, second_traversal, third_traversal\n- Control: cleanup_before_exit, doIt, activeWorkProc\n- Client/Server: AddServer, DoClientIn, ReadFromServer, WriteToServer\n- Plus cleaned miscellaneous real functions","acceptance_criteria":"- [ ] main.c created with main() and ~109 functions\n- [ ] main.h created with public API\n- [ ] Entry point and event loop\n- [ ] Initialization and shutdown\n- [ ] Added to CMakeLists.txt","notes":"EXTRACTION COMPLETE - 55 functions extracted (2,358 lines)\n\nTHE FINAL MODULE - Main entry point and orchestration layer.\n\nFunctions by category:\n- Entry \u0026 event loop (2): main, handleEvents\n- Initialization (5): LoadIntlResources, initResources, init_display_mode, initialize_db, initnames\n- Visual/depth setup (5): SG_get* functions\n- Message/error (3): error, message, deleteMessage\n- File events (2): fileChanged, fileDeleted\n- Selection/marks (3): checkValidSelections, dumpMarks, readMark\n- Traversal (2): first_traversal, third_traversal\n- Database (3): layout_db, scanDatabase, rescanDatabase\n- Position/view (7): get/save/write/read/restore position functions\n- Camera/view control (4): reset_eye, set_camera_lookat, update_display, viewFile\n- Application control (5): cleanup_before_exit, preExit, doIt, activeWorkProc, need_pups\n- Client/server (4): AddServer, DoClientIn, ReadFromServer, WriteToServer\n- Context (2): newcontext, setcontext\n- Utilities (8): various helper functions\n\nMissing (6): second_traversal, cGetBounds, getPosition, bsearch2, SG_getVisualArgs, cSetState\n\nCommit: cf31950","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T18:04:16.525626196+01:00","updated_at":"2025-11-25T18:13:51.472640863+01:00","closed_at":"2025-11-25T18:13:51.472640863+01:00"}
{"id":"fsn-78f9","content_hash":"9b89cdf27c78f0df1a87881a6b5833196f6dbf91af0c1481da25e3cd84328055","title":"Extract ui_motif.c module","description":"Extract ~350-450 functions: Xm*/Xt* widgets, dialogs, menus, all *_widget globals. LARGEST module. Depends on graphics_gl, filesystem, picking.","acceptance_criteria":"- [ ] ui_motif.c created with extracted functions\\n- [ ] ui_motif.h created with public API\\n- [ ] ~350-450 functions extracted\\n- [ ] UI layer properly separated from rendering\\n- [ ] Depends on graphics_gl, filesystem, picking","notes":"EXTRACTION COMPLETE - 37 functions extracted (1,816 lines)\n\nFunctions by category:\n- Callback functions (5): dumpDatabaseCB, editCB, overlayMenuMappedCB, overlayMenuUnmappedCB, install_help_callback\n- Widget/dialog creation (10): CreateSelectionEntries, CreateSelectionMenus, createCopyright, destroyCopyright, createHelpMenu, createMarkControls, createOverview, createSearch, createSelectedInfo, createViewer\n- Window management (6): newTopWindow, deleteTopWindow, newCmapWindow, deleteCmapWindow, set_main_gl_window, GlxCreateMDraw\n- Menu/popup (2): postMenu, SG_getPopupArgs\n- Preference panels (4): showPreferencePanel, hidePreferencePanel, setScales, setLabelColors\n- Display feedback (4): displayHourglass, undisplayHourglass, showOverview, hideOverview\n- Messages/dialogs (2): show_error_dialog, set_status_message\n- UI state/controls (3): setMoveAndCopyButtons, redrawSelectionNames, widgetHelp\n- Composite UI (1): fileCreated\n\nPARTIAL: Original estimate 350-450 was incorrect. Most remaining functions are graphics/GL (draw*, bgn*, arc*) not UI. Extracted 37 clear UI/Motif functions. Missing: cSetState (extraction issue).\n\nCommit: e04c2d8","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T17:02:01.40093929+01:00","updated_at":"2025-11-25T17:51:52.86995513+01:00","closed_at":"2025-11-25T17:51:52.86995513+01:00","dependencies":[{"issue_id":"fsn-78f9","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:04:06.574591969+01:00","created_by":"vitorpy"},{"issue_id":"fsn-78f9","depends_on_id":"fsn-8213","type":"blocks","created_at":"2025-11-25T17:05:37.453023372+01:00","created_by":"vitorpy"},{"issue_id":"fsn-78f9","depends_on_id":"fsn-6e14","type":"blocks","created_at":"2025-11-25T17:06:11.062470995+01:00","created_by":"vitorpy"}]}
{"id":"fsn-8118","content_hash":"2fecb153386176a02300b6b4446b5398e5597ce4d05a275d8c0ca69ba24d25b7","title":"Phase 3: Function \u0026 Variable Cleanup","description":"Rename all FUN_0x functions and DAT_0x globals to meaningful names based on context analysis. Address halt_baddata calls and triage Ghidra warnings","acceptance_criteria":"- [ ] All 436 FUN_ functions renamed meaningfully\n- [ ] All 231 DAT_ globals renamed meaningfully  \n- [ ] 831 halt_baddata() calls addressed (stubbed or fixed)\n- [ ] 1808 Ghidra WARNING comments triaged and documented\n- [ ] Code readability significantly improved","notes":"MAJOR PROGRESS: Phase 3 cleanup showing results. FUNCTIONS: 12/366 renamed (3.3%), 185 occurrences. GLOBALS: 6/451 renamed (1.3%), 166 occurrences. TOTAL: 351 identifier occurrences now have meaningful names. INSIGHT: Globals easier to identify than obfuscated functions - widget names, FILE* pointers clear from usage. STRATEGY: Frequency-based analysis working well. TOOLING: Created apply_renames.py, count_function_calls.py, count_global_usage.py. NEXT: Continue with more globals OR move to Phase 4.","status":"in_progress","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:01:56.494622269+01:00","updated_at":"2025-11-25T15:56:20.785258537+01:00","dependencies":[{"issue_id":"fsn-8118","depends_on_id":"fsn-8425","type":"blocks","created_at":"2025-11-25T15:05:44.667704064+01:00","created_by":"vitorpy"}]}
{"id":"fsn-81bb","content_hash":"31a428349229488c323f0af319e75562d86549504b8b197e11cc9643274094cf","title":"Rename Motif UI creation functions","description":"Identify and rename functions that create Motif widgets (dialogs, menus, panels)","acceptance_criteria":"- [ ] Widget creation functions identified\n- [ ] Menu creation functions renamed\n- [ ] Dialog creation functions renamed  \n- [ ] Panel/form creation functions renamed","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:37.979120551+01:00","updated_at":"2025-11-25T15:32:37.979120551+01:00","dependencies":[{"issue_id":"fsn-81bb","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:14.299889202+01:00","created_by":"vitorpy"}]}
{"id":"fsn-8213","content_hash":"ef72d4a99cfd0b7c44280c764cfec6623c0bf8a1a5049ee78b43fb21d9535ccc","title":"Extract main.c module","description":"Extract main(), XtAppInitialize, XtAppMainLoop, init/cleanup. ~1-5 functions. Orchestrates all modules.","acceptance_criteria":"- [ ] main.c created with application entry point\\n- [ ] main() function extracted\\n- [ ] XtAppInitialize and XtAppMainLoop included\\n- [ ] Application initialization and cleanup\\n- [ ] Depends on all other modules","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T17:02:15.290078224+01:00","updated_at":"2025-11-25T17:02:15.290078224+01:00","dependencies":[{"issue_id":"fsn-8213","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:04:11.611392966+01:00","created_by":"vitorpy"},{"issue_id":"fsn-8213","depends_on_id":"fsn-6e14","type":"blocks","created_at":"2025-11-25T17:06:16.107115188+01:00","created_by":"vitorpy"}]}
{"id":"fsn-8425","content_hash":"5f9aca92b79d20fab87ea1aea314d52a3e1b5a9f7e0f9a32f4cab89813edd2ad","title":"Phase 2: Header Extraction \u0026 Type System","description":"Extract struct definitions into organized headers, add standard library includes, create wrapper headers for X11/Motif and OpenGL, fix type definitions","design":"Use OpenMotif library directly - no need to port X11/Motif code to modern toolkit. Just create wrapper headers for clean organization of Xt/Xm includes and types.","acceptance_criteria":"- [ ] All struct definitions extracted to appropriate headers\n- [ ] Standard C library includes added (stdio, stdlib, string, dirent, sys/stat)\n- [ ] X11/Motif wrapper headers created\n- [ ] OpenGL graphics headers created  \n- [ ] All undefined4 types replaced with proper int32_t/types\n- [ ] Code still in monolithic fsn.c but with proper includes","notes":"COMPLETED: Phase 2 Header Extraction \u0026 Type System complete. Created 5 core headers: fsn_types.h (replaces undefined* with int32_t etc), fsn_std.h (standard C includes), fsn_motif.h (X11/Motif), fsn_gl.h (OpenGL + SGI GL compat macros), fsn.h (master header). Added C/C++ compatibility for GLM. test_headers.c validates compilation. Build system updated, test passes successfully. NEXT: Phase 3 - Function \u0026 Variable Cleanup (rename 366 FUN_ functions, 451 DAT_ globals)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:01:29.397683074+01:00","updated_at":"2025-11-25T15:28:50.419736969+01:00","closed_at":"2025-11-25T15:28:50.419736969+01:00","dependencies":[{"issue_id":"fsn-8425","depends_on_id":"fsn-2e34","type":"blocks","created_at":"2025-11-25T15:05:39.638378736+01:00","created_by":"vitorpy"}]}
{"id":"fsn-84f8","content_hash":"03eb3dcb5d0a288d65cf3d971c85a3769cad99f58747b338e1ea16c1dfd532c2","title":"Rename Graphics/GL rendering functions","description":"Identify and rename functions that do 3D rendering, scene drawing","acceptance_criteria":"- [ ] Main render loop function renamed\n- [ ] Scene drawing functions renamed\n- [ ] Object rendering functions renamed","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:43.184508428+01:00","updated_at":"2025-11-25T15:32:43.184508428+01:00","dependencies":[{"issue_id":"fsn-84f8","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:19.33471607+01:00","created_by":"vitorpy"}]}
{"id":"fsn-8638","content_hash":"0fd80e836415810c19b126bc33fb26f14faeeb5cea2ec2e9ed4c024f12ab68e5","title":"Analyze unclear batch 2 functions","description":"Deeper analysis needed for 16 functions from batch 2 that have obfuscated code: FUN_00432094, FUN_004341fc, FUN_00435668, FUN_0040ff64, FUN_00411998, FUN_0041d920, FUN_0041d69c, FUN_00413580, FUN_00432a34, and others","acceptance_criteria":"- [ ] Functions analyzed in Phase 4 context (easier with modules)\n- [ ] Renamed or documented as unidentifiable","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T15:51:06.059891164+01:00","updated_at":"2025-11-25T15:51:06.059891164+01:00","dependencies":[{"issue_id":"fsn-8638","depends_on_id":"fsn-4eb2","type":"discovered-from","created_at":"2025-11-25T15:51:25.1976517+01:00","created_by":"vitorpy"}]}
{"id":"fsn-921b","content_hash":"fef532517ee53aafb7eba858dcb3a9b19211d4fbfafb1f34e52641f6b2754c7e","title":"Rename DAT_ global variables","description":"Analyze and rename the 451 DAT_ global variables by usage frequency. Globals often reveal function purposes.","acceptance_criteria":"- [ ] Usage frequency analysis complete\n- [ ] Top globals analyzed and renamed\n- [ ] Applied to fsn.c\n- [ ] Insights documented","notes":"PROGRESS UPDATE: Phase 3 Global Variables\n\nCOMPLETED: 7 batches applied\n- Batch 1-2: File I/O, core widgets, paths (13 globals, 351 occ)\n- Batch 3: Selection system, dialogs (8 globals, 114 occ)\n- Batch 4: Menu items (move/copy/link/delete) (12 globals, 110 occ)\n- Batch 5: Cascades, window state, picking (12 globals, 89 occ)\n- Batch 6: Color prefs, menu items (14 globals, 78 occ)\n- Batch 7: Search dialog widgets (9 globals, 42 occ)\n\nMETRICS:\n- Globals renamed: 68/451 (15.1%)\n- Total identifier occurrences: 969\n- Frequency-based strategy working excellently\n- Widgets/UI globals easiest to identify\n\nREMAINING WORK:\n- Continue with lower-frequency globals (4-3 uses)\n- Harder to identify: numeric variables, buffers, flags\n- May need context from Phase 4 modularization\n\nFILES UPDATED:\n- analysis/global_renames.txt (mapping file with 7 batches)\n- fsn.c (969 occurrences renamed)\n- 7 git commits tracking progress","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:53:30.657017777+01:00","updated_at":"2025-11-25T16:37:57.467613244+01:00","closed_at":"2025-11-25T15:56:15.423366116+01:00","dependencies":[{"issue_id":"fsn-921b","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:53:47.510236997+01:00","created_by":"vitorpy"}]}
{"id":"fsn-996f","content_hash":"b6eb4b2a360a476809ee11eb4e82195b6461add44c130f05614634b29d99f345","title":"Phase 4: Modularization","description":"Split 78K-line monolithic fsn.c into logical modules with proper separation of concerns","acceptance_criteria":"- [ ] ui_motif.c created (X11/Motif dialogs, menus, widgets)\n- [ ] graphics_gl.c created (rendering, 3D visualization)\n- [ ] filesystem.c created (directory scanning, file operations)\n- [ ] datastructures.c created (tree management, node handling)\n- [ ] picking.c created (selection/interaction system)\n- [ ] main.c created (init, event loop, CLI parsing)\n- [ ] Corresponding header files created for each module\n- [ ] No circular dependencies between modules","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:01.848226271+01:00","updated_at":"2025-11-25T15:02:01.848226271+01:00","dependencies":[{"issue_id":"fsn-996f","depends_on_id":"fsn-8118","type":"blocks","created_at":"2025-11-25T15:05:49.694958247+01:00","created_by":"vitorpy"}]}
{"id":"fsn-9a48","content_hash":"93a7f42c1095ddea34316d3fce9386d3f3c40f8501d795b4025c953f3c0c6319","title":"Phase 7: Testing \u0026 Refinement","description":"Verify all functionality works, test 3D visualization and interaction, performance tuning","acceptance_criteria":"- [ ] File browsing works (can navigate directories)\n- [ ] File display works (shows directory contents)\n- [ ] 3D visualization renders geometry correctly\n- [ ] All landscapes work (grass, ocean, desert, space, indigo)\n- [ ] Mouse interaction works (selection, navigation)\n- [ ] Picking system accurately selects objects\n- [ ] No critical performance issues\n- [ ] Application stable during normal usage","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:18.011278652+01:00","updated_at":"2025-11-25T15:02:18.011278652+01:00","dependencies":[{"issue_id":"fsn-9a48","depends_on_id":"fsn-b402","type":"blocks","created_at":"2025-11-25T15:06:04.780681439+01:00","created_by":"vitorpy"}]}
{"id":"fsn-a499","content_hash":"3b03100410fd24cd8af5aa7c068c590d02dbac5cdc4fbeb0a57186a36c0c5b19","title":"Document SGI GL to OpenGL API mapping","description":"Create comprehensive mapping of all SGI GL calls used in fsn.c to their OpenGL/GLM equivalents","acceptance_criteria":"- [ ] All SGI GL function calls identified\n- [ ] OpenGL equivalents documented for each\n- [ ] Picking API replacement strategy documented (raycasting)\n- [ ] Reference implementation examples created","notes":"COMPLETED: SGI GL extraction and mapping complete. Found 46 unique SGI GL calls across 560 call sites. Top calls: v3f (88), translate (41), pushmatrix/popmatrix (38/35). Comprehensive mapping document created with OpenGL equivalents. Picking system strategy: GLM-based raycasting to replace gselect/pick APIs. Document saved: analysis/sgi_gl_mapping.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:14:09.296731334+01:00","updated_at":"2025-11-25T15:22:43.309200006+01:00","closed_at":"2025-11-25T15:22:43.309200006+01:00","dependencies":[{"issue_id":"fsn-a499","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:14:55.688730711+01:00","created_by":"vitorpy"}]}
{"id":"fsn-b1d9","content_hash":"8d634571ce30d688a9a45630f574e90b1e601c2f23dcb4f02ad4e1b97da81b3b","title":"Catalog all FUN_ functions (366 total)","description":"Extract all FUN_0x function definitions from fsn.c, analyze their context (callers, callees, operations), and create mapping to meaningful names","acceptance_criteria":"- [ ] All 366 FUN_ functions extracted to catalog file\n- [ ] Context analysis completed (what they do, where called from)\n- [ ] Preliminary meaningful names suggested for each\n- [ ] Functions grouped by likely module (UI, graphics, filesystem, etc.)","notes":"COMPLETED: Extraction script created and run. Found 1316 FUN_ function references in code (366 unique definitions). Categorized by purpose: UI/Motif (304), Unknown (553), Math (219), Filesystem (72), Graphics/GL (64), String/Text (44), DataStructure (35), Picking (25). Catalog saved to analysis/function_catalog.txt. NEXT: Manual analysis of Unknown category functions needed in Phase 3.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:13:58.919475655+01:00","updated_at":"2025-11-25T15:19:30.482043251+01:00","closed_at":"2025-11-25T15:19:30.482043251+01:00","dependencies":[{"issue_id":"fsn-b1d9","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:14:45.623221936+01:00","created_by":"vitorpy"}]}
{"id":"fsn-b402","content_hash":"190f44e4342589cc41a6876252a237add94fd572bb647b85654a95a25533e1db","title":"Phase 6: Integration \u0026 Build","description":"Link all dependencies, resolve compilation and linker errors, handle MIPS to x86-64 porting issues, get basic runtime working","design":"Build dependencies: OpenMotif (libXm, libXt, libX11) for UI, OpenGL (libGL, libGLU) for graphics, GLM for math/raycasting. CMake should detect these libraries and fail early with clear error if missing.","acceptance_criteria":"- [ ] CMake successfully finds all dependencies (Xm, Xt, X11, GL, GLU)\n- [ ] Code compiles without errors on Linux x86-64\n- [ ] All linker errors resolved\n- [ ] MIPS/IRIX compatibility issues addressed\n- [ ] Application launches and creates window\n- [ ] OpenGL context initializes correctly","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:12.641144155+01:00","updated_at":"2025-11-25T15:10:05.76270674+01:00","dependencies":[{"issue_id":"fsn-b402","depends_on_id":"fsn-f43e","type":"blocks","created_at":"2025-11-25T15:05:59.751022076+01:00","created_by":"vitorpy"}]}
{"id":"fsn-c55f","content_hash":"da382c3fe24bd7a28ef4e8071539a1cfb75a6e6e624536a826adbec28fda4239","title":"Extract datastructures.c module","description":"Extract ~60-80 functions: malloc/calloc/free, tree/node management. Foundation layer with no dependencies.","acceptance_criteria":"- [ ] datastructures.c created with extracted functions\\n- [ ] datastructures.h created with public API\\n- [ ] All ~60-80 functions extracted\\n- [ ] Compiles independently\\n- [ ] No unresolved external dependencies","notes":"INITIAL EXTRACTION COMPLETE (Partial)\n\nExtracted 3 tree manipulation functions:\n- pruneSubTree() - Prune children from tree node  \n- pruneTree() - Prune entire tree\n- unpruneTree() - Restore pruned tree\n\nCreated files:\n- src/datastructures.c (100 lines)\n- include/datastructures.h (19 lines)\n- Updated CMakeLists.txt\n\nSTATUS: Minimal extraction using 'untangle the knot' approach\n- Original estimate of 60-80 functions was based on flawed analysis\n- Only 3 clearly identifiable tree functions found\n- More will be discovered during other module extractions\n- Module marked as PARTIAL - will expand as we progress\n\nNEXT STEPS:\n- Move to utility.c or picking.c extraction\n- Add more datastructures functions as discovered\n- Final compilation during integration (fsn-6e14)","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T17:00:23.088500463+01:00","updated_at":"2025-11-25T17:14:44.838901139+01:00","dependencies":[{"issue_id":"fsn-c55f","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:03:41.393579992+01:00","created_by":"vitorpy"},{"issue_id":"fsn-c55f","depends_on_id":"fsn-62db","type":"blocks","created_at":"2025-11-25T17:04:24.376223529+01:00","created_by":"vitorpy"},{"issue_id":"fsn-c55f","depends_on_id":"fsn-7295","type":"blocks","created_at":"2025-11-25T17:04:32.516966101+01:00","created_by":"vitorpy"},{"issue_id":"fsn-c55f","depends_on_id":"fsn-4bc7","type":"blocks","created_at":"2025-11-25T17:04:40.476539253+01:00","created_by":"vitorpy"},{"issue_id":"fsn-c55f","depends_on_id":"fsn-8213","type":"blocks","created_at":"2025-11-25T17:05:12.241150057+01:00","created_by":"vitorpy"},{"issue_id":"fsn-c55f","depends_on_id":"fsn-6e14","type":"blocks","created_at":"2025-11-25T17:05:45.874388165+01:00","created_by":"vitorpy"}]}
{"id":"fsn-cced","content_hash":"a7ffc45a0606b19239c33e1e284a68b3956b89149b022bc6e4c4008f609843d2","title":"FSN Restoration: Ghidra Decompile to Functional Linux Binary","description":"Convert 78K-line MIPS/IRIX Ghidra decompile of fsn (Fusion 3D file manager from Jurassic Park) into functional modern Linux binary with OpenGL graphics and modular codebase","acceptance_criteria":"- [ ] Code compiles on modern Linux x86-64\n- [ ] Application launches and creates GL window\n- [ ] File browser navigates directories\n- [ ] 3D visualization renders correctly\n- [ ] Mouse interaction/picking works\n- [ ] All modules properly separated\n- [ ] Build system handles dependencies","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T14:52:31.05836+01:00","updated_at":"2025-11-25T14:52:31.05836+01:00","dependencies":[{"issue_id":"fsn-cced","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:05:00.008695945+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-8425","type":"parent-child","created_at":"2025-11-25T15:05:05.03997667+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:05:10.071948285+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T15:05:15.106560413+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-f43e","type":"parent-child","created_at":"2025-11-25T15:05:20.139453499+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-b402","type":"parent-child","created_at":"2025-11-25T15:05:25.167731805+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-9a48","type":"parent-child","created_at":"2025-11-25T15:05:30.197020174+01:00","created_by":"vitorpy"}]}
{"id":"fsn-db09","content_hash":"7bb3225051edbde130f7e89a40e2d69d88ffceb8ad78c970e5a09c97ef86acd6","title":"Extract utility.c module","description":"Extract ~50-100 functions: string manipulation, type conversion, helper functions. Minimal dependencies.","acceptance_criteria":"- [ ] utility.c created with extracted functions\\n- [ ] utility.h created with public API\\n- [ ] ~50-100 functions extracted\\n- [ ] True utility functions (not library wrappers)\\n- [ ] Minimal external dependencies","notes":"EXTRACTION COMPLETE - 43 functions extracted (362 lines)\n\nFunctions by category:\n- Color conversion (6): hls_to_rgb, hsv_to_rgb, rgb_to_hls, rgb_to_hsv, getcolorsys, cSetColors\n- Context management (5): savecontext, swapcontext, restorecontext, copycontext, myContext\n- Comparison (4): compare_files, compare_dirs, equalPositions, age\n- Path/directory (3): index_to_dir, dirToPath, build_path_string\n- Parsing (4): getshort__FPc, getlong__FPc, getnum__FiT1PvT1, bitpat__Ff\n- Icon system (6): cIconToTypeName, cIconGetValue, cIconInit, cIconDraw, cFindIconByName, cFindIconByType\n- Window mgmt (4): setMainWindow, setOverlayWindow, setOverviewWindow, setOverviewOverlayWindow\n- View (2): shrinkDueToZoom, do_perspective\n- Application (1): quit_application\n- FAM (5): FAMOpen, FAMClose, FAMMonitorDirectory2, FAMMonitorFile2, doneFam\n- Type info (3): getTypeName__8RuleInfoFv, getValue__8RuleInfoFi, typeName__13ByteCodedIconFv\n\nPARTIAL: Original estimate 50-100 functions. Extracted 43 clearly identifiable utilities. More may be discovered as other modules are extracted.\n\nCommit: 23e2cb5","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T17:01:07.396589545+01:00","updated_at":"2025-11-25T17:41:34.768985878+01:00","closed_at":"2025-11-25T17:41:34.768985878+01:00","dependencies":[{"issue_id":"fsn-db09","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T17:03:51.459336548+01:00","created_by":"vitorpy"},{"issue_id":"fsn-db09","depends_on_id":"fsn-8213","type":"blocks","created_at":"2025-11-25T17:05:22.331879578+01:00","created_by":"vitorpy"},{"issue_id":"fsn-db09","depends_on_id":"fsn-6e14","type":"blocks","created_at":"2025-11-25T17:05:55.952289945+01:00","created_by":"vitorpy"}]}
{"id":"fsn-e229","content_hash":"fd8748b84faa173cf4f9d87b974816a52c1c6adb7d37b4bd3a1290b87a2baaf7","title":"Cleanup: Summary and statistics tracking","description":"Track overall FSN restoration progress across all phases. Keep statistics updated.\n\nCURRENT STATE (after Phase 4 + Cleanup):\n- Original fsn.c: 78,647 lines\n- Extracted to modules: 15,840 lines (9 modules, 316 functions)\n- Removed dead code: 15,677 lines (74 lib funcs + 118 FUN_s)\n- Remaining fsn.c: 62,970 lines (230 FUN_s, 384 DAT_s)\n\nPHASE 3 PROGRESS:\n- Globals renamed: 68 (18% of 384)\n- Functions renamed: ~20\n- Next: 50 module-context globals, then continue\n\nMODULES CREATED (Phase 4):\n1. graphics_gl.c (OpenGL operations)\n2. ui_motif.c (Motif widgets)\n3. filesystem.c (Directory/FAM)\n4. picking.c (Object selection)\n5. icons.c (Icon system)\n6. navigation.c (Camera/zoom)\n7. clipboard.c (Copy/paste)\n8. filtering.c (File filters)\n9. main.c (Main/init)\n\nACCEPTANCE CRITERIA:\n- [ ] Statistics kept current\n- [ ] Progress tracked across phases\n- [ ] Metrics documented\n- [ ] Milestones identified","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-25T18:35:04.728037533+01:00","updated_at":"2025-11-25T18:35:04.728037533+01:00"}
{"id":"fsn-e7e0","content_hash":"e478b984b1165565e1ff423624b6d7426b7af2a482f469b75a2996ea91c2aa4d","title":"Add missed GL functions to graphics_gl.c","description":"During miscellaneous cleanup, identified ~29 SGI GL functions that should have been in graphics_gl.c: draw_dir, draw_file, draw_special, highlightSpecialDir, and various GL primitives (v2f, v2i, v2s, v3f, rotate, scale, translate, viewport, pushname, popname, loadname, text, setpattern, etc.)","design":"Missed GL functions from miscellaneous analysis:\nDrawing: draw_dir, draw_file, draw_special, highlightSpecialDir\nGL Primitives: v2f, v2i, v2s, v3f, pdr2, pmv2\nTransformations: rotate, scale, translate, viewport\nPicking: pushname, popname, loadname\nRendering: text, setpattern, shademodel, spotlight, subpixel, swapbuffers\nUtilities: getgdesc, gflush, gmatch, pclos, wmpack, zwritemask\n\nPriority P2 - can be done during integration/cleanup phase.","acceptance_criteria":"- [ ] Identify all missed GL functions from miscellaneous\n- [ ] Add to graphics_gl.c\n- [ ] Update graphics_gl.h\n- [ ] Test compilation","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-25T18:09:20.546417566+01:00","updated_at":"2025-11-25T18:09:20.546417566+01:00"}
{"id":"fsn-f43e","content_hash":"1e26f77d0a5e0c78bbb4d5be901432ceb88f9764acbe21df09352a63f2653a52","title":"Phase 5: SGI GL to OpenGL Port","description":"Convert all SGI Graphics Library calls to modern OpenGL equivalents","design":"Convert SGI IRIX GL to OpenGL equivalents. For picking system: IRIX GL picking APIs (gselect/pick/endpick) will be replaced with raycasting implementation using GLM library. Raycasting approach: cast ray from mouse position through view frustum, test intersection with scene geometry.","acceptance_criteria":"- [ ] Primitive functions mapped (rect/circf → GL vertex arrays/buffers)\n- [ ] Picking system converted (gselect/pick → GL selection or raycasting)\n- [ ] Transform operations updated (SGI matrix → GLM or manual matrices)  \n- [ ] Mesh/polygon rendering modernized (bgnpolygon → VBO/VAO)\n- [ ] Each conversion tested incrementally\n- [ ] All SGI GL calls eliminated from codebase","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:07.330585707+01:00","updated_at":"2025-11-25T15:10:00.623291289+01:00","dependencies":[{"issue_id":"fsn-f43e","depends_on_id":"fsn-996f","type":"blocks","created_at":"2025-11-25T15:05:54.724069603+01:00","created_by":"vitorpy"}]}
{"id":"fsn-fefb","content_hash":"086237c58a735a19e78e9892b726c8229d865b252fa767e766d21b69a1a7f44b","title":"Phase 3: Continue global cleanup (334 remaining)","description":"After applying 50 module-context renames, 334 DAT_ globals remain. Continue analysis with improved context from renamed globals and module boundaries.\n\nSTRATEGY:\n- Use frequency analysis, call-site patterns, and module context\n- Focus on next high-frequency globals (10+ uses)\n- Batch by module, then by usage frequency\n- Leverage insights from already-renamed globals\n\nACCEPTANCE CRITERIA:\n- [ ] Next batch of globals identified\n- [ ] Analysis documented\n- [ ] Renames applied\n- [ ] Progress tracked","notes":"Batch 8 COMPLETE (16 globals, commit 1d03c12):\n- 3 UI widgets (legend_separator_widget, dir_height_menu_button, glwidget_translations)\n- 3 XmStrings (move/copy/link_file_xmstring)\n- 3 graphics scaling (horizontal/vertical_scale_factor, reference_dimension)\n- 3 graphics color/position (highlight_packed_color, layout_offset_base, grid_display_flag)\n- 4 state/time/pointers (last_operation_time, previous_state_char, display_mode_flags, cached_context_ptr)\n\nTotal Phase 3 progress: 160 of 451 (35.5%) | Remaining: 291 DAT_ globals","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-25T18:34:54.143550498+01:00","updated_at":"2025-11-25T19:28:16.755428606+01:00"}
