{"id":"fsn-05f1","content_hash":"2ae857f11107465fb8eeb4d307b8f11cf108bea47127fa95500d2285d2de596d","title":"Catalog all DAT_ globals (465 total)","description":"Extract all DAT_0x global variables from fsn.c, analyze their usage patterns, and suggest meaningful names","acceptance_criteria":"- [ ] All 465 DAT_ globals extracted to catalog file\n- [ ] Usage pattern analysis completed\n- [ ] Preliminary meaningful names suggested\n- [ ] Globals categorized by purpose","notes":"COMPLETED: Extraction script created and run. Found 451 DAT_ global variables. Categorized: String/Text (244), Counter/Index (90), Unknown (82), Graphics State (21), X11/Motif (10), Configuration (3), Filesystem (1). Catalog saved to analysis/global_catalog.txt. NEXT: Manual analysis for meaningful names in Phase 3.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:14:04.08211111+01:00","updated_at":"2025-11-25T15:19:30.490260424+01:00","closed_at":"2025-11-25T15:19:30.490260424+01:00","dependencies":[{"issue_id":"fsn-05f1","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:14:50.657081159+01:00","created_by":"vitorpy"}]}
{"id":"fsn-113e","content_hash":"1859296c2faa3aa95064fd35305fae47830d470afff9a0aaf3b814c06cdf2ba2","title":"Identify module boundaries","description":"Analyze code structure and identify logical module boundaries for Phase 4 split","acceptance_criteria":"- [ ] Module boundaries defined (UI, graphics, filesystem, picking, data, main)\n- [ ] Function assignments to modules planned\n- [ ] Inter-module dependencies mapped\n- [ ] Module interface contracts defined","notes":"COMPLETED: Module boundary analysis complete. Identified 6 primary modules: ui_motif (412 funcs), graphics_gl (171), filesystem (74), datastructures (62), picking (18), main (entry point). 1521 functions in 'utility' category need manual review in Phase 3/4. Module dependency graph and header structure documented. Output: analysis/module_boundaries.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:14:14.539853808+01:00","updated_at":"2025-11-25T15:22:43.312395207+01:00","closed_at":"2025-11-25T15:22:43.312395207+01:00","dependencies":[{"issue_id":"fsn-113e","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:15:00.723565767+01:00","created_by":"vitorpy"}]}
{"id":"fsn-1c87","content_hash":"ef4daffd1d3d9f41a83437d28d8852683221ecf53d541477334543964aa1dd7c","title":"Rename top 10 FUN_ functions (32-14 calls each)","description":"Analyze and rename the 10 most-frequently called FUN_ functions: FUN_0040cad0 (32), FUN_0042b6c0 (27), FUN_0042a82c (21), FUN_00411b30 (21), FUN_0042a788 (20), FUN_00410264 (19), FUN_00421f10 (18), FUN_0042a8e4 (18), FUN_00411094 (15), FUN_00410da4 (14)","acceptance_criteria":"- [ ] All 10 functions analyzed\n- [ ] Function purposes identified\n- [ ] Renamed or bd task created if unclear","notes":"IN PROGRESS: Analyzing top 10 most-called functions (32-14 calls each). COMPLETED: 5/10 functions identified: FUN_0040cad0→redraw_gl_scene (32), FUN_0042b6c0→install_help_callback (27), FUN_0042a82c→set_gl_context (21), FUN_00411b30→build_path_string (21), FUN_0042a788→gl_swap_buffers (20). NEXT: Analyze remaining 5 (FUN_00410264, FUN_00421f10, FUN_0042a8e4, FUN_00411094, FUN_00410da4). Method: grep context analysis + definition reading.","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-11-25T15:38:03.760722722+01:00","updated_at":"2025-11-25T15:40:18.549612196+01:00","dependencies":[{"issue_id":"fsn-1c87","depends_on_id":"fsn-44d8","type":"parent-child","created_at":"2025-11-25T15:38:19.197408496+01:00","created_by":"vitorpy"}]}
{"id":"fsn-2e34","content_hash":"efd3d7c9559f5669fdeafed65abf1e4d3804f7bce9a6fc6d6d95ecfe6809caba","title":"Phase 1: Foundation \u0026 Analysis","description":"Analyze decompiled code structure, catalog all unnamed functions/globals, identify module boundaries, and plan architecture","acceptance_criteria":"- [ ] All 436 FUN_0x functions catalogued with context notes\n- [ ] All 231 DAT_0x globals catalogued with usage patterns\n- [ ] Module boundaries identified (UI, graphics, filesystem, picking, data structures)\n- [ ] SGI GL to OpenGL mapping documented\n- [ ] Architecture document created","notes":"COMPLETED: Phase 1 Foundation \u0026 Analysis complete. All 4 subtasks finished:\n1. Cataloged 366 FUN_ function definitions (1316 references) - categorized by purpose\n2. Cataloged 451 DAT_ global variables - categorized by usage  \n3. Mapped 46 SGI GL calls to OpenGL equivalents (560 call sites total)\n4. Identified 6 module boundaries for Phase 4 split\n\nKey outputs in analysis/:\n- function_catalog.txt (categorized functions)\n- global_catalog.txt (categorized globals)  \n- sgi_gl_mapping.md (GL API migration guide)\n- module_boundaries.md (architecture for modularization)\n\nNEXT: Phase 2 - Header Extraction \u0026 Type System","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:01:16.114479784+01:00","updated_at":"2025-11-25T15:22:59.826304803+01:00","closed_at":"2025-11-25T15:22:59.826304803+01:00"}
{"id":"fsn-44d8","content_hash":"d348cb15fb94676857de1b203623e3dfb5207ebd832b0faedc0c8b168fcd2575","title":"Rename main() and core initialization functions","description":"Rename obvious main-related functions: main entry point, quit handler, initialization sequence","acceptance_criteria":"- [ ] main renamed (already clear)\n- [ ] FUN_0040eef0 → quit_application (WM_DELETE callback)\n- [ ] FUN_0041892c → cleanup_and_save_state (called before exit)\n- [ ] Main initialization functions identified and renamed","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:32.725642883+01:00","updated_at":"2025-11-25T15:33:29.62344198+01:00","dependencies":[{"issue_id":"fsn-44d8","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:09.264308413+01:00","created_by":"vitorpy"}]}
{"id":"fsn-6e5b","content_hash":"1d1de382565db2c673ed78556002ce76f3994a197428b52f5660421d301dda9d","title":"Rename filesystem/directory functions","description":"Identify and rename functions that scan directories, read file info","acceptance_criteria":"- [ ] Directory scanning functions renamed\n- [ ] File stat/info functions renamed\n- [ ] Path manipulation functions renamed","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:48.438653513+01:00","updated_at":"2025-11-25T15:32:48.438653513+01:00","dependencies":[{"issue_id":"fsn-6e5b","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:24.374138356+01:00","created_by":"vitorpy"}]}
{"id":"fsn-8118","content_hash":"969648cc05a48b2ace67a2fde40e31867b098ea067443c240a0a6e3f9f8619e4","title":"Phase 3: Function \u0026 Variable Cleanup","description":"Rename all FUN_0x functions and DAT_0x globals to meaningful names based on context analysis. Address halt_baddata calls and triage Ghidra warnings","acceptance_criteria":"- [ ] All 436 FUN_ functions renamed meaningfully\n- [ ] All 231 DAT_ globals renamed meaningfully  \n- [ ] 831 halt_baddata() calls addressed (stubbed or fixed)\n- [ ] 1808 Ghidra WARNING comments triaged and documented\n- [ ] Code readability significantly improved","status":"in_progress","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:01:56.494622269+01:00","updated_at":"2025-11-25T15:31:36.846454075+01:00","dependencies":[{"issue_id":"fsn-8118","depends_on_id":"fsn-8425","type":"blocks","created_at":"2025-11-25T15:05:44.667704064+01:00","created_by":"vitorpy"}]}
{"id":"fsn-81bb","content_hash":"31a428349229488c323f0af319e75562d86549504b8b197e11cc9643274094cf","title":"Rename Motif UI creation functions","description":"Identify and rename functions that create Motif widgets (dialogs, menus, panels)","acceptance_criteria":"- [ ] Widget creation functions identified\n- [ ] Menu creation functions renamed\n- [ ] Dialog creation functions renamed  \n- [ ] Panel/form creation functions renamed","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:37.979120551+01:00","updated_at":"2025-11-25T15:32:37.979120551+01:00","dependencies":[{"issue_id":"fsn-81bb","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:14.299889202+01:00","created_by":"vitorpy"}]}
{"id":"fsn-8425","content_hash":"5f9aca92b79d20fab87ea1aea314d52a3e1b5a9f7e0f9a32f4cab89813edd2ad","title":"Phase 2: Header Extraction \u0026 Type System","description":"Extract struct definitions into organized headers, add standard library includes, create wrapper headers for X11/Motif and OpenGL, fix type definitions","design":"Use OpenMotif library directly - no need to port X11/Motif code to modern toolkit. Just create wrapper headers for clean organization of Xt/Xm includes and types.","acceptance_criteria":"- [ ] All struct definitions extracted to appropriate headers\n- [ ] Standard C library includes added (stdio, stdlib, string, dirent, sys/stat)\n- [ ] X11/Motif wrapper headers created\n- [ ] OpenGL graphics headers created  \n- [ ] All undefined4 types replaced with proper int32_t/types\n- [ ] Code still in monolithic fsn.c but with proper includes","notes":"COMPLETED: Phase 2 Header Extraction \u0026 Type System complete. Created 5 core headers: fsn_types.h (replaces undefined* with int32_t etc), fsn_std.h (standard C includes), fsn_motif.h (X11/Motif), fsn_gl.h (OpenGL + SGI GL compat macros), fsn.h (master header). Added C/C++ compatibility for GLM. test_headers.c validates compilation. Build system updated, test passes successfully. NEXT: Phase 3 - Function \u0026 Variable Cleanup (rename 366 FUN_ functions, 451 DAT_ globals)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:01:29.397683074+01:00","updated_at":"2025-11-25T15:28:50.419736969+01:00","closed_at":"2025-11-25T15:28:50.419736969+01:00","dependencies":[{"issue_id":"fsn-8425","depends_on_id":"fsn-2e34","type":"blocks","created_at":"2025-11-25T15:05:39.638378736+01:00","created_by":"vitorpy"}]}
{"id":"fsn-84f8","content_hash":"03eb3dcb5d0a288d65cf3d971c85a3769cad99f58747b338e1ea16c1dfd532c2","title":"Rename Graphics/GL rendering functions","description":"Identify and rename functions that do 3D rendering, scene drawing","acceptance_criteria":"- [ ] Main render loop function renamed\n- [ ] Scene drawing functions renamed\n- [ ] Object rendering functions renamed","status":"open","priority":0,"issue_type":"task","created_at":"2025-11-25T15:32:43.184508428+01:00","updated_at":"2025-11-25T15:32:43.184508428+01:00","dependencies":[{"issue_id":"fsn-84f8","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:33:19.33471607+01:00","created_by":"vitorpy"}]}
{"id":"fsn-996f","content_hash":"b6eb4b2a360a476809ee11eb4e82195b6461add44c130f05614634b29d99f345","title":"Phase 4: Modularization","description":"Split 78K-line monolithic fsn.c into logical modules with proper separation of concerns","acceptance_criteria":"- [ ] ui_motif.c created (X11/Motif dialogs, menus, widgets)\n- [ ] graphics_gl.c created (rendering, 3D visualization)\n- [ ] filesystem.c created (directory scanning, file operations)\n- [ ] datastructures.c created (tree management, node handling)\n- [ ] picking.c created (selection/interaction system)\n- [ ] main.c created (init, event loop, CLI parsing)\n- [ ] Corresponding header files created for each module\n- [ ] No circular dependencies between modules","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:01.848226271+01:00","updated_at":"2025-11-25T15:02:01.848226271+01:00","dependencies":[{"issue_id":"fsn-996f","depends_on_id":"fsn-8118","type":"blocks","created_at":"2025-11-25T15:05:49.694958247+01:00","created_by":"vitorpy"}]}
{"id":"fsn-9a48","content_hash":"93a7f42c1095ddea34316d3fce9386d3f3c40f8501d795b4025c953f3c0c6319","title":"Phase 7: Testing \u0026 Refinement","description":"Verify all functionality works, test 3D visualization and interaction, performance tuning","acceptance_criteria":"- [ ] File browsing works (can navigate directories)\n- [ ] File display works (shows directory contents)\n- [ ] 3D visualization renders geometry correctly\n- [ ] All landscapes work (grass, ocean, desert, space, indigo)\n- [ ] Mouse interaction works (selection, navigation)\n- [ ] Picking system accurately selects objects\n- [ ] No critical performance issues\n- [ ] Application stable during normal usage","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:18.011278652+01:00","updated_at":"2025-11-25T15:02:18.011278652+01:00","dependencies":[{"issue_id":"fsn-9a48","depends_on_id":"fsn-b402","type":"blocks","created_at":"2025-11-25T15:06:04.780681439+01:00","created_by":"vitorpy"}]}
{"id":"fsn-a499","content_hash":"3b03100410fd24cd8af5aa7c068c590d02dbac5cdc4fbeb0a57186a36c0c5b19","title":"Document SGI GL to OpenGL API mapping","description":"Create comprehensive mapping of all SGI GL calls used in fsn.c to their OpenGL/GLM equivalents","acceptance_criteria":"- [ ] All SGI GL function calls identified\n- [ ] OpenGL equivalents documented for each\n- [ ] Picking API replacement strategy documented (raycasting)\n- [ ] Reference implementation examples created","notes":"COMPLETED: SGI GL extraction and mapping complete. Found 46 unique SGI GL calls across 560 call sites. Top calls: v3f (88), translate (41), pushmatrix/popmatrix (38/35). Comprehensive mapping document created with OpenGL equivalents. Picking system strategy: GLM-based raycasting to replace gselect/pick APIs. Document saved: analysis/sgi_gl_mapping.md","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:14:09.296731334+01:00","updated_at":"2025-11-25T15:22:43.309200006+01:00","closed_at":"2025-11-25T15:22:43.309200006+01:00","dependencies":[{"issue_id":"fsn-a499","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:14:55.688730711+01:00","created_by":"vitorpy"}]}
{"id":"fsn-b1d9","content_hash":"8d634571ce30d688a9a45630f574e90b1e601c2f23dcb4f02ad4e1b97da81b3b","title":"Catalog all FUN_ functions (366 total)","description":"Extract all FUN_0x function definitions from fsn.c, analyze their context (callers, callees, operations), and create mapping to meaningful names","acceptance_criteria":"- [ ] All 366 FUN_ functions extracted to catalog file\n- [ ] Context analysis completed (what they do, where called from)\n- [ ] Preliminary meaningful names suggested for each\n- [ ] Functions grouped by likely module (UI, graphics, filesystem, etc.)","notes":"COMPLETED: Extraction script created and run. Found 1316 FUN_ function references in code (366 unique definitions). Categorized by purpose: UI/Motif (304), Unknown (553), Math (219), Filesystem (72), Graphics/GL (64), String/Text (44), DataStructure (35), Picking (25). Catalog saved to analysis/function_catalog.txt. NEXT: Manual analysis of Unknown category functions needed in Phase 3.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-25T15:13:58.919475655+01:00","updated_at":"2025-11-25T15:19:30.482043251+01:00","closed_at":"2025-11-25T15:19:30.482043251+01:00","dependencies":[{"issue_id":"fsn-b1d9","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:14:45.623221936+01:00","created_by":"vitorpy"}]}
{"id":"fsn-b402","content_hash":"190f44e4342589cc41a6876252a237add94fd572bb647b85654a95a25533e1db","title":"Phase 6: Integration \u0026 Build","description":"Link all dependencies, resolve compilation and linker errors, handle MIPS to x86-64 porting issues, get basic runtime working","design":"Build dependencies: OpenMotif (libXm, libXt, libX11) for UI, OpenGL (libGL, libGLU) for graphics, GLM for math/raycasting. CMake should detect these libraries and fail early with clear error if missing.","acceptance_criteria":"- [ ] CMake successfully finds all dependencies (Xm, Xt, X11, GL, GLU)\n- [ ] Code compiles without errors on Linux x86-64\n- [ ] All linker errors resolved\n- [ ] MIPS/IRIX compatibility issues addressed\n- [ ] Application launches and creates window\n- [ ] OpenGL context initializes correctly","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:12.641144155+01:00","updated_at":"2025-11-25T15:10:05.76270674+01:00","dependencies":[{"issue_id":"fsn-b402","depends_on_id":"fsn-f43e","type":"blocks","created_at":"2025-11-25T15:05:59.751022076+01:00","created_by":"vitorpy"}]}
{"id":"fsn-cced","content_hash":"a7ffc45a0606b19239c33e1e284a68b3956b89149b022bc6e4c4008f609843d2","title":"FSN Restoration: Ghidra Decompile to Functional Linux Binary","description":"Convert 78K-line MIPS/IRIX Ghidra decompile of fsn (Fusion 3D file manager from Jurassic Park) into functional modern Linux binary with OpenGL graphics and modular codebase","acceptance_criteria":"- [ ] Code compiles on modern Linux x86-64\n- [ ] Application launches and creates GL window\n- [ ] File browser navigates directories\n- [ ] 3D visualization renders correctly\n- [ ] Mouse interaction/picking works\n- [ ] All modules properly separated\n- [ ] Build system handles dependencies","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T14:52:31.05836+01:00","updated_at":"2025-11-25T14:52:31.05836+01:00","dependencies":[{"issue_id":"fsn-cced","depends_on_id":"fsn-2e34","type":"parent-child","created_at":"2025-11-25T15:05:00.008695945+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-8425","type":"parent-child","created_at":"2025-11-25T15:05:05.03997667+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-8118","type":"parent-child","created_at":"2025-11-25T15:05:10.071948285+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-996f","type":"parent-child","created_at":"2025-11-25T15:05:15.106560413+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-f43e","type":"parent-child","created_at":"2025-11-25T15:05:20.139453499+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-b402","type":"parent-child","created_at":"2025-11-25T15:05:25.167731805+01:00","created_by":"vitorpy"},{"issue_id":"fsn-cced","depends_on_id":"fsn-9a48","type":"parent-child","created_at":"2025-11-25T15:05:30.197020174+01:00","created_by":"vitorpy"}]}
{"id":"fsn-f43e","content_hash":"1e26f77d0a5e0c78bbb4d5be901432ceb88f9764acbe21df09352a63f2653a52","title":"Phase 5: SGI GL to OpenGL Port","description":"Convert all SGI Graphics Library calls to modern OpenGL equivalents","design":"Convert SGI IRIX GL to OpenGL equivalents. For picking system: IRIX GL picking APIs (gselect/pick/endpick) will be replaced with raycasting implementation using GLM library. Raycasting approach: cast ray from mouse position through view frustum, test intersection with scene geometry.","acceptance_criteria":"- [ ] Primitive functions mapped (rect/circf → GL vertex arrays/buffers)\n- [ ] Picking system converted (gselect/pick → GL selection or raycasting)\n- [ ] Transform operations updated (SGI matrix → GLM or manual matrices)  \n- [ ] Mesh/polygon rendering modernized (bgnpolygon → VBO/VAO)\n- [ ] Each conversion tested incrementally\n- [ ] All SGI GL calls eliminated from codebase","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-25T15:02:07.330585707+01:00","updated_at":"2025-11-25T15:10:00.623291289+01:00","dependencies":[{"issue_id":"fsn-f43e","depends_on_id":"fsn-996f","type":"blocks","created_at":"2025-11-25T15:05:54.724069603+01:00","created_by":"vitorpy"}]}
